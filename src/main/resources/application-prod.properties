# Production defaults (override via environment variables in Railway).

# Avoid implicit schema changes in production. Use migrations (Flyway/Liquibase) instead.
spring.jpa.hibernate.ddl-auto=${HIBERNATE_DDL_AUTO:validate}

# Flyway: create schema from migrations on an empty DB, or baseline an existing DB created by Hibernate.
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=1

# Require secrets/DB configuration via environment variables in production.
jwt.secret=${JWT_SECRET}

spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# In production, keep CORS closed unless explicitly configured.
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:}

# Stricter defaults in prod (override via env vars)
app.rate-limit.enabled=${RATE_LIMIT_ENABLED:true}
app.rate-limit.window-seconds=${RATE_LIMIT_WINDOW_SECONDS:60}
app.rate-limit.max-requests=${RATE_LIMIT_MAX_REQUESTS:10}

# Shorter access tokens in production (override as needed).
jwt.expiration=${JWT_EXPIRATION_MS:900000}

# Refresh tokens (default 30 days).
app.refresh-token.expiration-ms=${REFRESH_TOKEN_EXPIRATION_MS:2592000000}
